{% extends 'base.html.twig' %}

{% block title %}Client
{% endblock %}

{% block body %}
<h1 class='my-4'>Mes clients</h1>

<div class="card" style="width:50%; margin:0 auto;">
	<div class="card-body">
		<h5 class="card-title">{{ client.name | upper }}</h5>
	</div>
	<ul class="list-group list-group-flush">
		<li class="list-group-item">Nom :
			{{ client.name }}</li>
		<li class="list-group-item">Adresse :
			{{ client.adresse }}
			<br />
			{{ client.zip }}
			{{ client.city }}
		</li>
		<li class="list-group-item">Téléphone :
			{{ client.phone }}</li>
		<li class="list-group-item">E-mail :
			{{ client.mail }}</li>

	</ul>
	<div class="card-body">
		<a class="btn btn-outline-secondary" href="{{ path('client_edit', {'id': client.id}) }}">Modifier les coordonnées</a>
	</div>
</div>
<h2 class='my-4'>Projets de
	{{client.name}}
</h2>

<table class="table table-hover my-4">
	<tbody>
		<tr>
			<th>Nom du projet</th>
			<th>Tarif horaire ou au forfait</th>
			<th></th>
		</tr>
		{% for project in projects %}
		<tr>
			<td scope="row">{{ project.name }}</td>
			{% if project.price > 0 %}
			<td>{{ project.price }}
				€/H</td>
			{% else %}
			<td>{{ project.forfait }}
				€</td>
			{% endif %}
			<td>
				<a href="{{ path('tasks_index', {'id': project.id}) }}" class="btn btn-warning">Voir le projet</a>
			</td>
		</tr>
		{% endfor %}
	</tbody>
</table>

<a class="btn btn-secondary my-4" href="{{ path('client_index') }}">Retour à mes clients</a>




{% endblock %}